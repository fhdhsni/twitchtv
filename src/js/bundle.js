(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

module.exports = function (user) {
  var ul = document.getElementsByClassName("result")[0];
  var li = document.createElement("li");
  var img = document.createElement("img"); // for user image
  var a = document.createElement("a"); // for display_name to be a link
  var offline = document.createElement("span"); // for online/offline

  img.setAttribute("src", "https://dl.dropboxusercontent.com/u/59014401/1475440307_FAQ.svg");
  a.textContent = user;
  a.setAttribute("href", "https://www.twitch.tv/" + user);
  offline.textContent = "offline";
  offline.classList.add("offline");

  li.appendChild(img);
  li.appendChild(a);
  li.appendChild(offline);
  ul.appendChild(li);
};

},{}],2:[function(require,module,exports){
"use strict";

module.exports = function addOnlineUser(info) {
  var ul = document.getElementsByClassName("result")[0];
  var li = document.createElement("li");
  var img = document.createElement("img"); // for user image
  var a = document.createElement("a"); // for display_name to be a link
  var online = document.createElement("span"); // for online/offline
  var status = document.createElement("span"); // for status

  img.setAttribute("alt", info.name + " profile picture");
  img.setAttribute("src", "" + info.logo);
  a.setAttribute("href", "" + info.url);
  a.textContent = info.name;
  status.textContent = info.status;
  status.classList.add("status");
  online.textContent = "online";
  online.classList.add("online");

  li.appendChild(img);
  li.appendChild(a);
  li.appendChild(status);
  li.appendChild(online);
  ul.appendChild(li);
};

},{}],3:[function(require,module,exports){
"use strict";

exports.addOnlineUser = require("./addOnlineUser.js");
exports.addOfflineUser = require("./addOfflineUser.js");
exports.addUserDoesntExist = require("./userDoesntExist.js");

exports.findURL = function findURL(data) {
  return data.stream.channel.url;
};

exports.findLogo = function findLogo(data) {
  return data.stream.channel.logo;
};

exports.findStatus = function findStatus(data) {
  return data.stream.channel.status;
};

exports.findName = function findName(data) {
  return data.stream.channel.display_name;
};

exports.addToPage = function addToPage(error, data, user) {
  // data is string not JSON
  if (error) {
    this.addUserDoesntExist(JSON.parse(error));
  } else {
    var parsedData = JSON.parse(data);
    var info = {};

    if (parsedData.stream) {
      info.url = this.findURL(parsedData);
      info.logo = this.findLogo(parsedData);
      info.status = this.findStatus(parsedData);
      info.name = this.findName(parsedData);

      this.addOnlineUser(info);
    } else {
      this.addOfflineUser(user);
    }
  }
};

},{"./addOfflineUser.js":1,"./addOnlineUser.js":2,"./userDoesntExist.js":6}],4:[function(require,module,exports){
"use strict";

},{}],5:[function(require,module,exports){
"use strict";

console.log("Hi There!");
var ajax = require("./xhr.js");
var addToPage = require("./addToPage.js");
var searchInput = document.getElementById("search");
var users = ["ESL_SC2", "OgamingSC2", "cretetion", "freecodecamp", "storbeck", "habathcx", "RobotCaleb", "noobs2ninjas"];

ajax(users, addToPage);
searchInput.addEventListener("keyup", function (e) {
  if (e.keyCode === 13) {
    e.stopImmediatePropagation();
    document.getElementsByClassName("result")[0].innerHTML = "";
    var query = searchInput.value;

    if (query !== "") {
      ajax([query], addToPage);
    } else {
      ajax(users, addToPage);
    }
  }
});

document.getElementsByTagName("body")[0].addEventListener("keyup", function (e) {
  if (e.keyCode === 13) {
    document.getElementsByClassName("result")[0].innerHTML = "";
    ajax(users, addToPage);
  }
});

},{"./addToPage.js":3,"./xhr.js":7}],6:[function(require,module,exports){
"use strict";

module.exports = function (e) {
  var ul = document.getElementsByClassName("result")[0];
  var li = document.createElement("li");
  var span = document.createElement("span");

  span.textContent = e.message;
  span.classList.add("existence");
  li.appendChild(span);
  ul.appendChild(li);
};

},{}],7:[function(require,module,exports){
"use strict";

module.exports = function requester(users, cb) {
  users.forEach(function (user) {
    var xhr = new XMLHttpRequest();

    xhr.open("GET", "https://api.twitch.tv/kraken/streams/" + user);
    xhr.setRequestHeader("Client-ID", "ghabxme08rzbv3esgcoqfsbwuo8yj89");
    xhr.addEventListener("load", function () {
      if (xhr.readyState === 4 && xhr.status === 200) {
        cb.addToPage(null, xhr.responseText, user);
      } else {
        cb.addToPage(xhr.responseText);
      }
    });
    xhr.send();
  });
};

},{}]},{},[1,2,3,4,5,6,7])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvYWRkT2ZmbGluZVVzZXIuanMiLCJzcmMvanMvYWRkT25saW5lVXNlci5qcyIsInNyYy9qcy9hZGRUb1BhZ2UuanMiLCJzcmMvanMvYnVuZGxlLmpzIiwic3JjL2pzL3NjcmlwdC5qcyIsInNyYy9qcy91c2VyRG9lc250RXhpc3QuanMiLCJzcmMvanMveGhyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQSxPQUFPLE9BQVAsR0FBaUIsVUFBVSxJQUFWLEVBQWdCO0FBQy9CLE1BQU0sS0FBSyxTQUFTLHNCQUFULENBQWdDLFFBQWhDLEVBQTBDLENBQTFDLENBQVg7QUFDQSxNQUFNLEtBQUssU0FBUyxhQUFULENBQXVCLElBQXZCLENBQVg7QUFDQSxNQUFNLE1BQU0sU0FBUyxhQUFULENBQXVCLEtBQXZCLENBQVosQ0FBMkM7QUFDM0MsTUFBTSxJQUFJLFNBQVMsYUFBVCxDQUF1QixHQUF2QixDQUFWLENBQTJDO0FBQzNDLE1BQU0sVUFBVSxTQUFTLGFBQVQsQ0FBdUIsTUFBdkIsQ0FBaEIsQ0FBZ0Q7O0FBRWhELE1BQUksWUFBSixDQUFpQixLQUFqQixFQUF3QixpRUFBeEI7QUFDQSxJQUFFLFdBQUYsR0FBZ0IsSUFBaEI7QUFDQSxJQUFFLFlBQUYsQ0FBZSxNQUFmLDZCQUFnRCxJQUFoRDtBQUNBLFVBQVEsV0FBUixHQUFzQixTQUF0QjtBQUNBLFVBQVEsU0FBUixDQUFrQixHQUFsQixDQUFzQixTQUF0Qjs7QUFFQSxLQUFHLFdBQUgsQ0FBZSxHQUFmO0FBQ0EsS0FBRyxXQUFILENBQWUsQ0FBZjtBQUNBLEtBQUcsV0FBSCxDQUFlLE9BQWY7QUFDQSxLQUFHLFdBQUgsQ0FBZSxFQUFmO0FBQ0QsQ0FqQkQ7Ozs7O0FDQUEsT0FBTyxPQUFQLEdBQWlCLFNBQVMsYUFBVCxDQUF1QixJQUF2QixFQUE2QjtBQUM1QyxNQUFNLEtBQUssU0FBUyxzQkFBVCxD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Q0FBdUIsSUFBdkIsQ0FBWDtBQUNBLE1BQU0sT0FBTyxTQUFTLGFBQVQsQ0FBdUIsTUFBdkIsQ0FBYjs7QUFFQSxPQUFLLFdBQUwsR0FBbUIsRUFBRSxPQUFyQjtBQUNBLE9BQUssU0FBTCxDQUFlLEdBQWYsQ0FBbUIsV0FBbkI7QUFDQSxLQUFHLFdBQUgsQ0FBZSxJQUFmO0FBQ0EsS0FBRyxXQUFILENBQWUsRUFBZjtBQUNELENBVEQ7Ozs7O0FDQUEsT0FBTyxPQUFQLEdBQWlCLFNBQVMsU0FBVCxDQUFtQixLQUFuQixFQUEwQixFQUExQixFQUE4QjtBQUM3QyxRQUFNLE9BQU4sQ0FBYyxVQUFDLElBQUQsRUFBVTtBQUN0QixRQUFNLE1BQU0sSUFBSSxjQUFKLEVBQVo7O0FBRUEsUUFBSSxJQUFKLENBQVMsS0FBVCw0Q0FBd0QsSUFBeEQ7QUFDQSxRQUFJLGdCQUFKLENBQXFCLFdBQXJCLEVBQWtDLGlDQUFsQztBQUNBLFFBQUksZ0JBQUosQ0FBcUIsTUFBckIsRUFBNkIsWUFBTTtBQUNqQyxVQUFJLElBQUksVUFBSixLQUFtQixDQUFuQixJQUF3QixJQUFJLE1BQUosS0FBZSxHQUEzQyxFQUFnRDtBQUM5QyxXQUFHLFNBQUgsQ0FBYSxJQUFiLEVBQW1CLElBQUksWUFBdkIsRUFBcUMsSUFBckM7QUFDRCxPQUZELE1BRU87QUFDTCxXQUFHLFNBQUgsQ0FBYSxJQUFJLFlBQWpCO0FBQ0Q7QUFDRixLQU5EO0FBT0EsUUFBSSxJQUFKO0FBQ0QsR0FiRDtBQWNELENBZkQiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodXNlcikge1xuICBjb25zdCB1bCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJyZXN1bHRcIilbMF07XG4gIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xuICBjb25zdCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpOyAvLyBmb3IgdXNlciBpbWFnZVxuICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7ICAgICAvLyBmb3IgZGlzcGxheV9uYW1lIHRvIGJlIGEgbGlua1xuICBjb25zdCBvZmZsaW5lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7IC8vIGZvciBvbmxpbmUvb2ZmbGluZVxuXG4gIGltZy5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgXCJodHRwczovL2RsLmRyb3Bib3h1c2VyY29udGVudC5jb20vdS81OTAxNDQwMS8xNDc1NDQwMzA3X0ZBUS5zdmdcIik7XG4gIGEudGV4dENvbnRlbnQgPSB1c2VyO1xuICBhLnNldEF0dHJpYnV0ZShcImhyZWZcIiwgYGh0dHBzOi8vd3d3LnR3aXRjaC50di8ke3VzZXJ9YCk7XG4gIG9mZmxpbmUudGV4dENvbnRlbnQgPSBcIm9mZmxpbmVcIjtcbiAgb2ZmbGluZS5jbGFzc0xpc3QuYWRkKFwib2ZmbGluZVwiKTtcblxuICBsaS5hcHBlbmRDaGlsZChpbWcpO1xuICBsaS5hcHBlbmRDaGlsZChhKTtcbiAgbGkuYXBwZW5kQ2hpbGQob2ZmbGluZSk7XG4gIHVsLmFwcGVuZENoaWxkKGxpKTtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGFkZE9ubGluZVVzZXIoaW5mbykge1xuICBjb25zdCB1bCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJyZXN1bHRcIilbMF07XG4gIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xuICBjb25zdCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpOyAvLyBmb3IgdXNlciBpbWFnZVxuICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7ICAgICAvLyBmb3IgZGlzcGxheV9uYW1lIHRvIGJlIGEgbGlua1xuICBjb25zdCBvbmxpbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTsgLy8gZm9yIG9ubGluZS9vZmZsaW5lXG4gIGNvbnN0IHN0YXR1cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpOyAvLyBmb3Igc3RhdHVzXG5cbiAgaW1nLnNldEF0dHJpYnV0ZShcImFsdFwiLCBgJHtpbmZvLm5hbWV9IHByb2ZpbGUgcGljdHVyZWApO1xuICBpbWcuc2V0QXR0cmlidXRlKFwic3JjXCIsIGAke2luZm8ubG9nb31gKTtcbiAgYS5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsIGAke2luZm8udXJsfWApO1xuICBhLnRleHRDb250ZW50ID0gaW5mby5uYW1lO1xuICBzdGF0dXMudGV4dENvbnRlbnQgPSBpbmZvLnN0YXR1cztcbiAgc3RhdHVzLmNsYXNzTGlzdC5hZGQoXCJzdGF0dXNcIik7XG4gIG9ubGluZS50ZXh0Q29udGVudCA9IFwib25saW5lXCI7XG4gIG9ubGluZS5jbGFzc0xpc3QuYWRkKFwib25saW5lXCIpO1xuXG4gIGxpLmFwcGVuZENoaWxkKGltZyk7XG4gIGxpLmFwcGVuZENoaWxkKGEpO1xuICBsaS5hcHBlbmRDaGlsZChzdGF0dXMpO1xuICBsaS5hcHBlbmRDaGlsZChvbmxpbmUpO1xuICB1bC5hcHBlbmRDaGlsZChsaSk7XG59O1xuIiwiZXhwb3J0cy5hZGRPbmxpbmVVc2VyID0gcmVxdWlyZShcIi4vYWRkT25saW5lVXNlci5qc1wiKTtcbmV4cG9ydHMuYWRkT2ZmbGluZVVzZXIgPSByZXF1aXJlKFwiLi9hZGRPZmZsaW5lVXNlci5qc1wiKTtcbmV4cG9ydHMuYWRkVXNlckRvZXNudEV4aXN0ID0gcmVxdWlyZShcIi4vdXNlckRvZXNudEV4aXN0LmpzXCIpO1xuXG5leHBvcnRzLmZpbmRVUkwgPSBmdW5jdGlvbiBmaW5kVVJMKGRhdGEpIHtcbiAgcmV0dXJuIGRhdGEuc3RyZWFtLmNoYW5uZWwudXJsO1xufTtcblxuZXhwb3J0cy5maW5kTG9nbyA9IGZ1bmN0aW9uIGZpbmRMb2dvKGRhdGEpIHtcbiAgcmV0dXJuIGRhdGEuc3RyZWFtLmNoYW5uZWwubG9nbztcbn07XG5cbmV4cG9ydHMuZmluZFN0YXR1cyA9IGZ1bmN0aW9uIGZpbmRTdGF0dXMoZGF0YSkge1xuICByZXR1cm4gZGF0YS5zdHJlYW0uY2hhbm5lbC5zdGF0dXM7XG59O1xuXG5leHBvcnRzLmZpbmROYW1lID0gZnVuY3Rpb24gZmluZE5hbWUoZGF0YSkge1xuICByZXR1cm4gZGF0YS5zdHJlYW0uY2hhbm5lbC5kaXNwbGF5X25hbWU7XG59O1xuXG5leHBvcnRzLmFkZFRvUGFnZSA9IGZ1bmN0aW9uIGFkZFRvUGFnZShlcnJvciwgZGF0YSwgdXNlcikge1xuICAvLyBkYXRhIGlzIHN0cmluZyBub3QgSlNPTlxuICBpZiAoZXJyb3IpIHtcbiAgICB0aGlzLmFkZFVzZXJEb2VzbnRFeGlzdChKU09OLnBhcnNlKGVycm9yKSk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgcGFyc2VkRGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgY29uc3QgaW5mbyA9IHt9O1xuXG4gICAgaWYgKHBhcnNlZERhdGEuc3RyZWFtKSB7XG4gICAgICBpbmZvLnVybCA9IHRoaXMuZmluZFVSTChwYXJzZWREYXRhKTtcbiAgICAgIGluZm8ubG9nbyA9IHRoaXMuZmluZExvZ28ocGFyc2VkRGF0YSk7XG4gICAgICBpbmZvLnN0YXR1cyA9IHRoaXMuZmluZFN0YXR1cyhwYXJzZWREYXRhKTtcbiAgICAgIGluZm8ubmFtZSA9IHRoaXMuZmluZE5hbWUocGFyc2VkRGF0YSk7XG5cbiAgICAgIHRoaXMuYWRkT25saW5lVXNlcihpbmZvKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hZGRPZmZsaW5lVXNlcih1c2VyKTtcbiAgICB9XG4gIH1cbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJYU3dpYm1GdFpYTWlPbHRkTENKdFlYQndhVzVuY3lJNklpSXNJbVpwYkdVaU9pSmlkVzVrYkdVdWFuTWlMQ0p6YjNWeVkyVnpRMjl1ZEdWdWRDSTZXMTE5IiwiY29uc29sZS5sb2coXCJIaSBUaGVyZSFcIik7XG5jb25zdCBhamF4ID0gcmVxdWlyZShcIi4veGhyLmpzXCIpO1xuY29uc3QgYWRkVG9QYWdlID0gcmVxdWlyZShcIi4vYWRkVG9QYWdlLmpzXCIpO1xuY29uc3Qgc2VhcmNoSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlYXJjaFwiKTtcbmNvbnN0IHVzZXJzID0gW1xuICBcIkVTTF9TQzJcIixcbiAgXCJPZ2FtaW5nU0MyXCIsXG4gIFwiY3JldGV0aW9uXCIsXG4gIFwiZnJlZWNvZGVjYW1wXCIsXG4gIFwic3RvcmJlY2tcIixcbiAgXCJoYWJhdGhjeFwiLFxuICBcIlJvYm90Q2FsZWJcIixcbiAgXCJub29iczJuaW5qYXNcIixcbl07XG5cbmFqYXgodXNlcnMsIGFkZFRvUGFnZSk7XG5zZWFyY2hJbnB1dC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgKGUpID0+IHtcbiAgaWYgKGUua2V5Q29kZSA9PT0gMTMpIHtcbiAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJyZXN1bHRcIilbMF0uaW5uZXJIVE1MID0gXCJcIjtcbiAgICBjb25zdCBxdWVyeSA9IHNlYXJjaElucHV0LnZhbHVlO1xuXG4gICAgaWYgKHF1ZXJ5ICE9PSBcIlwiKSB7XG4gICAgICBhamF4KFtxdWVyeV0sIGFkZFRvUGFnZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFqYXgodXNlcnMsIGFkZFRvUGFnZSk7XG4gICAgfVxuICB9XG59KTtcblxuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJib2R5XCIpWzBdLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCAoZSkgPT4ge1xuICBpZiAoZS5rZXlDb2RlID09PSAxMykge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJyZXN1bHRcIilbMF0uaW5uZXJIVE1MID0gXCJcIjtcbiAgICBhamF4KHVzZXJzLCBhZGRUb1BhZ2UpO1xuICB9XG59KTtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZSkge1xuICBjb25zdCB1bCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJyZXN1bHRcIilbMF07XG4gIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xuICBjb25zdCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG5cbiAgc3Bhbi50ZXh0Q29udGVudCA9IGUubWVzc2FnZTtcbiAgc3Bhbi5jbGFzc0xpc3QuYWRkKFwiZXhpc3RlbmNlXCIpO1xuICBsaS5hcHBlbmRDaGlsZChzcGFuKTtcbiAgdWwuYXBwZW5kQ2hpbGQobGkpO1xufTtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcmVxdWVzdGVyKHVzZXJzLCBjYikge1xuICB1c2Vycy5mb3JFYWNoKCh1c2VyKSA9PiB7XG4gICAgY29uc3QgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICB4aHIub3BlbihcIkdFVFwiLCBgaHR0cHM6Ly9hcGkudHdpdGNoLnR2L2tyYWtlbi9zdHJlYW1zLyR7dXNlcn1gKTtcbiAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkNsaWVudC1JRFwiLCBcImdoYWJ4bWUwOHJ6YnYzZXNnY29xZnNid3VvOHlqODlcIik7XG4gICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsICgpID0+IHtcbiAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCAmJiB4aHIuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgY2IuYWRkVG9QYWdlKG51bGwsIHhoci5yZXNwb25zZVRleHQsIHVzZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2IuYWRkVG9QYWdlKHhoci5yZXNwb25zZVRleHQpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHhoci5zZW5kKCk7XG4gIH0pO1xufTtcbiJdfQ==
